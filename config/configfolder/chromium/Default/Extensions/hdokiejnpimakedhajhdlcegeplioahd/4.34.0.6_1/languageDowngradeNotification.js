var LanguageDowngradeNotification=function(){var e=document.querySelector("#languageDowngradeNotification"),a={"en-US":"English","de-DE":"Deutsch","es-ES":"Español","fr-FR":"Français","it-IT":"Italiano","nl-NL":"Nederlands","pt-BR":"Português"};function n(){e=document.querySelector("#languageDowngradeNotification"),$(e).load("/newvault/languageDowngradeNotification.html",function(){e.classList.add("show"),document.querySelector(".languageDowngradeNotification__step--main").classList.add("show"),document.body.classList.add("languageDowngradeNotificationIsVisible"),g(),r(),bg.sendLpImprove("language_downgrade_notification_seen",{source:"web"})})}function o(e){e.preventDefault(),t()}function t(){e.classList.remove("show"),document.body.classList.remove("languageDowngradeNotificationIsVisible"),bg.setLanguageNotificationDismissal(function(){bg.sendLpImprove("language_downgrade_notification_dismiss",{source:"web"})})}function i(e){e.preventDefault();var n=bg.get("g_language")||"en-US",a=document.querySelector("#languageDowngradeNotificationLanguageSelector").value;bg.saveUserLanguage(a,function(){bg.switchLanguage(a),bg.sendLpImprove("language_downgrade_notification_update",{previous_language:n,selected_language:a,source:"web"}),document.querySelector(".languageDowngradeNotification__step--main").classList.remove("show"),document.querySelector(".languageDowngradeNotification__step--success").classList.add("show")},function(){throw dialogs.alert.open({title:"Error",text:["An unexpected error occurred when changing your language.","Please try again later"]}),new Error("Error while saving user language preference")})}function r(){var e=document.querySelector("#languageDowngradeNotificationClose"),n=document.querySelector("#languageDowngradeNotificationForm");e.addEventListener("click",o),n.addEventListener("submit",i)}function g(){var e=document.querySelector("#languageDowngradeNotificationLanguageSelector");for(var n in a)e.options.add(new Option(a[n],n))}return{show:n}}();
//# sourceMappingURL=sourcemaps/languageDowngradeNotification.js.map
